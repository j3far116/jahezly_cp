{% extends "layout.twig" %}
{% block title %}تعديل فرع{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h1 class="h4 mb-1">تعديل فرع</h1>
    <div class="text-muted">المتجر: <strong>{{ market.name }}</strong></div>
  </div>
  <div class="d-flex gap-2">
    <a href="{{ branches_base }}/{{ id }}" class="btn btn-secondary">رجوع للتفاصيل</a>
    <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#confirmDeleteBranch">حذف</button>
  </div>
</div>

<form method="post" action="{{ branches_base }}/{{ id }}">
  {% include "branches/_form.twig" %}
  <div class="mt-3"><button class="btn btn-primary" type="submit">تحديث</button></div>
</form>

<div class="modal fade" id="confirmDeleteBranch" tabindex="-1" aria-labelledby="confirmDeleteBranchLabel" aria-hidden="true">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header"><h5 class="modal-title" id="confirmDeleteBranchLabel">تأكيد الحذف</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
    </div>
    <div class="modal-body">هل أنت متأكد من حذف هذا الفرع؟</div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
      <form method="post" action="{{ branches_base }}/{{ id }}/delete" class="d-inline">
        <input type="hidden" name="_csrf" value="{{ _csrf }}">
        <button type="submit" class="btn btn-danger">تأكيد الحذف</button>
      </form>
    </div>
  </div></div>
</div>
{% endblock %}
